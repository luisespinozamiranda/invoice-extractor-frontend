<div class="invoice-list-container">
  <div class="page-header">
    <h1>Invoices</h1>
    <button mat-raised-button color="primary" (click)="goToUpload()">
      <mat-icon>add</mat-icon>
      Upload New Invoice
    </button>
  </div>

  <!-- Loading State -->
  <div *ngIf="loading" class="loading-container">
    <mat-spinner></mat-spinner>
    <p>Loading invoices...</p>
  </div>

  <!-- Error State -->
  <div *ngIf="error && !loading" class="error-container">
    <mat-icon class="error-icon">error_outline</mat-icon>
    <p class="error-message">{{ error }}</p>
    <button mat-raised-button color="accent" (click)="loadInvoices()">
      <mat-icon>refresh</mat-icon>
      Retry
    </button>
  </div>

  <!-- Empty State -->
  <div *ngIf="!loading && !error && invoices.length === 0" class="empty-container">
    <mat-icon class="empty-icon">inbox</mat-icon>
    <h3>No invoices found</h3>
    <p>Upload your first invoice to get started</p>
    <button mat-raised-button color="primary" (click)="goToUpload()">
      <mat-icon>cloud_upload</mat-icon>
      Upload Invoice
    </button>
  </div>

  <!-- Invoice Grid -->
  <div *ngIf="!loading && !error && invoices.length > 0" class="invoice-grid">
    <mat-card *ngFor="let invoice of invoices" class="invoice-card">
      <mat-card-header>
        <mat-card-title>
          <mat-icon class="invoice-icon">description</mat-icon>
          {{ invoice.invoice_number }}
        </mat-card-title>
        <mat-card-subtitle>{{ invoice.issue_date | date:'mediumDate' }}</mat-card-subtitle>
      </mat-card-header>

      <mat-card-content>
        <div class="invoice-details">
          <div class="detail-row">
            <mat-icon class="detail-icon">account_circle</mat-icon>
            <div class="detail-content">
              <span class="detail-label">Client</span>
              <span class="detail-value">{{ invoice.client_name }}</span>
            </div>
          </div>

          <div class="detail-row amount-row">
            <mat-icon class="detail-icon">payments</mat-icon>
            <div class="detail-content">
              <span class="detail-label">Amount</span>
              <span class="detail-value amount">{{ invoice.currency }} {{ invoice.invoice_amount | number:'1.2-2' }}</span>
            </div>
          </div>

          <div class="detail-row">
            <mat-icon class="detail-icon">event</mat-icon>
            <div class="detail-content">
              <span class="detail-label">Due Date</span>
              <span class="detail-value">{{ invoice.due_date | date:'mediumDate' }}</span>
            </div>
          </div>

          <div class="detail-row">
            <mat-icon class="detail-icon">label</mat-icon>
            <div class="detail-content">
              <span class="detail-label">Status</span>
              <span class="detail-value status" [class]="'status-' + invoice.status.toLowerCase()">
                {{ invoice.status }}
              </span>
            </div>
          </div>
        </div>
      </mat-card-content>

      <mat-card-actions>
        <button mat-button color="primary">
          <mat-icon>visibility</mat-icon>
          View
        </button>
        <button mat-button>
          <mat-icon>edit</mat-icon>
          Edit
        </button>
      </mat-card-actions>
    </mat-card>
  </div>
</div>
